| secao                     | tablename              | policyname                                   | cmd    | using_clause                                                                                                                                                                                                                                                                                                                      | with_check                                                                                                                                                                                                                                             |
| ------------------------- | ---------------------- | -------------------------------------------- | ------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 3. DEFINIÇÃO DAS POLICIES | audit_logs             | audit_logs_admin_select_all                  | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | audit_logs             | audit_logs_select_admin_only                 | SELECT | ((((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text) OR ((((current_setting('request.jwt.claims'::text, true))::json -> 'app_metadata'::text) ->> 'role'::text) = 'admin'::text))                                                                                                      | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | bookings               | Usuário cria pedidos                         | INSERT | null                                                                                                                                                                                                                                                                                                                              | (auth.uid() = user_id)                                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | bookings               | Usuário vê seus pedidos                      | SELECT | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | bookings               | bookings_insert_client                       | INSERT | null                                                                                                                                                                                                                                                                                                                              | (client_id = auth.uid())                                                                                                                                                                                                                               |
| 3. DEFINIÇÃO DAS POLICIES | bookings               | bookings_insert_owner                        | INSERT | null                                                                                                                                                                                                                                                                                                                              | (client_id = auth.uid())                                                                                                                                                                                                                               |
| 3. DEFINIÇÃO DAS POLICIES | bookings               | bookings_select_owner_or_provider            | SELECT | ((client_id = auth.uid()) OR (provider_id = auth.uid()) OR (((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text))                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | bookings               | bookings_update_owner_or_provider            | UPDATE | ((client_id = auth.uid()) OR (provider_id = auth.uid()) OR (((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text))                                                                                                                                                                        | ((client_id = auth.uid()) OR (provider_id = auth.uid()) OR (((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text))                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_admin_select_all                     | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_insert_own                           | INSERT | null                                                                                                                                                                                                                                                                                                                              | ((id = auth.uid()) OR is_admin())                                                                                                                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_insert_own_row                       | INSERT | null                                                                                                                                                                                                                                                                                                                              | (auth.uid() = id)                                                                                                                                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_owner_insert                         | INSERT | null                                                                                                                                                                                                                                                                                                                              | (id = auth.uid())                                                                                                                                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_owner_select                         | SELECT | (id = auth.uid())                                                                                                                                                                                                                                                                                                                 | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_owner_update                         | UPDATE | (id = auth.uid())                                                                                                                                                                                                                                                                                                                 | (id = auth.uid())                                                                                                                                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_select_own                           | SELECT | ((id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                                 | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_select_own_row                       | SELECT | (auth.uid() = id)                                                                                                                                                                                                                                                                                                                 | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_select_own_row_by_id                 | SELECT | (id = auth.uid())                                                                                                                                                                                                                                                                                                                 | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_update_own                           | UPDATE | ((id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                                 | ((id = auth.uid()) OR is_admin())                                                                                                                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | clients                | clients_update_own_row                       | UPDATE | (auth.uid() = id)                                                                                                                                                                                                                                                                                                                 | (auth.uid() = id)                                                                                                                                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | conversations          | conversations_admin_select_all               | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | conversations          | conversations_insert_participants            | INSERT | null                                                                                                                                                                                                                                                                                                                              | ((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM providers pr
  WHERE ((pr.id = conversations.provider_id) AND (pr.user_id = auth.uid())))))                                                                                                    |
| 3. DEFINIÇÃO DAS POLICIES | conversations          | conversations_select_participants            | SELECT | ((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM providers pr
  WHERE ((pr.id = conversations.provider_id) AND (pr.user_id = auth.uid())))))                                                                                                                                                                               | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | conversations          | conversations_update_participants            | UPDATE | ((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM providers pr
  WHERE ((pr.id = conversations.provider_id) AND (pr.user_id = auth.uid())))))                                                                                                                                                                               | ((client_id = auth.uid()) OR (EXISTS ( SELECT 1
   FROM providers pr
  WHERE ((pr.id = conversations.provider_id) AND (pr.user_id = auth.uid())))))                                                                                                    |
| 3. DEFINIÇÃO DAS POLICIES | dispute_photos         | client can read dispute photos               | SELECT | (EXISTS ( SELECT 1
   FROM disputes d
  WHERE ((d.id = dispute_photos.dispute_id) AND (d.opened_by_user_id = auth.uid()))))                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | dispute_photos         | dispute_photos_admin_select_all              | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | dispute_photos         | dispute_photos_insert_owner                  | INSERT | null                                                                                                                                                                                                                                                                                                                              | (EXISTS ( SELECT 1
   FROM disputes d
  WHERE ((d.id = dispute_photos.dispute_id) AND (d.opened_by_user_id = auth.uid()))))                                                                                                                            |
| 3. DEFINIÇÃO DAS POLICIES | dispute_photos         | dispute_photos_select_admin                  | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | dispute_photos         | dispute_photos_select_owner                  | SELECT | (EXISTS ( SELECT 1
   FROM (disputes d
     JOIN jobs j ON ((j.id = d.job_id)))
  WHERE ((d.id = dispute_photos.dispute_id) AND ((j.client_id = auth.uid()) OR (j.provider_id = auth.uid())))))                                                                                                                                   | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | dispute_photos         | participants can insert photos               | INSERT | null                                                                                                                                                                                                                                                                                                                              | (EXISTS ( SELECT 1
   FROM (disputes d
     JOIN jobs j ON ((j.id = d.job_id)))
  WHERE ((d.id = dispute_photos.dispute_id) AND ((j.client_id = auth.uid()) OR (j.provider_id = auth.uid())))))                                                        |
| 3. DEFINIÇÃO DAS POLICIES | dispute_photos         | participants can select photos               | SELECT | (EXISTS ( SELECT 1
   FROM (disputes d
     JOIN jobs j ON ((j.id = d.job_id)))
  WHERE ((d.id = dispute_photos.dispute_id) AND ((j.client_id = auth.uid()) OR (j.provider_id = auth.uid())))))                                                                                                                                   | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | dispute_photos         | provider can read dispute photos             | SELECT | (EXISTS ( SELECT 1
   FROM disputes d
  WHERE ((d.id = dispute_photos.dispute_id) AND (d.provider_id = auth.uid()))))                                                                                                                                                                                                             | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | disputes               | disputes_admin_select_all                    | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | disputes               | disputes_admin_update_all                    | UPDATE | is_admin()                                                                                                                                                                                                                                                                                                                        | is_admin()                                                                                                                                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | disputes               | disputes_insert_client                       | INSERT | null                                                                                                                                                                                                                                                                                                                              | ((role = 'client'::text) AND (EXISTS ( SELECT 1
   FROM jobs j
  WHERE ((j.id = disputes.job_id) AND (j.client_id = auth.uid())))))                                                                                                                    |
| 3. DEFINIÇÃO DAS POLICIES | disputes               | disputes_select_admin                        | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | disputes               | disputes_select_owner                        | SELECT | (EXISTS ( SELECT 1
   FROM jobs j
  WHERE ((j.id = disputes.job_id) AND ((j.client_id = auth.uid()) OR (j.provider_id = auth.uid())))))                                                                                                                                                                                           | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | disputes               | disputes_update_owner                        | UPDATE | (opened_by_user_id = auth.uid())                                                                                                                                                                                                                                                                                                  | (opened_by_user_id = auth.uid())                                                                                                                                                                                                                       |
| 3. DEFINIÇÃO DAS POLICIES | disputes               | disputes_update_provider                     | UPDATE | (EXISTS ( SELECT 1
   FROM jobs j
  WHERE ((j.id = disputes.job_id) AND (j.provider_id = auth.uid()))))                                                                                                                                                                                                                           | (EXISTS ( SELECT 1
   FROM jobs j
  WHERE ((j.id = disputes.job_id) AND (j.provider_id = auth.uid()))))                                                                                                                                                |
| 3. DEFINIÇÃO DAS POLICIES | job_actions            | providers_insert_own_actions                 | INSERT | null                                                                                                                                                                                                                                                                                                                              | (provider_id = auth.uid())                                                                                                                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | job_actions            | providers_select_own_actions                 | SELECT | (provider_id = auth.uid())                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | job_payments           | job_payments_select_admin                    | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | job_quotes             | client can read quotes of own jobs           | SELECT | (EXISTS ( SELECT 1
   FROM jobs j
  WHERE ((j.id = job_quotes.job_id) AND (j.client_id = auth.uid()))))                                                                                                                                                                                                                           | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | job_quotes             | client_select_quotes_own_jobs                | SELECT | (EXISTS ( SELECT 1
   FROM jobs j
  WHERE ((j.id = job_quotes.job_id) AND (j.client_id = auth.uid()))))                                                                                                                                                                                                                           | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | job_rejections         | job_rejections_clients_select_own            | SELECT | (client_id = auth.uid())                                                                                                                                                                                                                                                                                                          | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | job_rejections         | job_rejections_providers_select_own          | SELECT | (EXISTS ( SELECT 1
   FROM providers p
  WHERE ((p.id = job_rejections.provider_id) AND (p.user_id = auth.uid()))))                                                                                                                                                                                                               | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | job_rejections         | job_rejections_service_role_full_access      | ALL    | true                                                                                                                                                                                                                                                                                                                              | true                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | job_rejections         | providers_insert_own_rejections              | INSERT | null                                                                                                                                                                                                                                                                                                                              | (provider_id = auth.uid())                                                                                                                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | job_rejections         | providers_select_own_rejections              | SELECT | (provider_id = auth.uid())                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | job_status_history     | job_status_history_modify_admin              | ALL    | is_admin()                                                                                                                                                                                                                                                                                                                        | is_admin()                                                                                                                                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | job_status_history     | job_status_history_select_admin              | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | job_tracking           | job_tracking_insert_provider                 | INSERT | null                                                                                                                                                                                                                                                                                                                              | ((EXISTS ( SELECT 1
   FROM providers p
  WHERE ((p.id = job_tracking.provider_id) AND (p.user_id = auth.uid())))) OR is_admin())                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | job_tracking           | job_tracking_select_participants             | SELECT | ((EXISTS ( SELECT 1
   FROM (jobs j
     JOIN clients c ON ((c.id = j.client_id)))
  WHERE ((j.id = job_tracking.job_id) AND (c.id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM (jobs j
     JOIN providers p ON ((p.id = j.provider_id)))
  WHERE ((j.id = job_tracking.job_id) AND (p.user_id = auth.uid())))) OR is_admin()) | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | job_tracking           | job_tracking_update_provider                 | UPDATE | ((EXISTS ( SELECT 1
   FROM providers p
  WHERE ((p.id = job_tracking.provider_id) AND (p.user_id = auth.uid())))) OR is_admin())                                                                                                                                                                                                 | ((EXISTS ( SELECT 1
   FROM providers p
  WHERE ((p.id = job_tracking.provider_id) AND (p.user_id = auth.uid())))) OR is_admin())                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | jobs                   | clients read own jobs                        | SELECT | (client_id = auth.uid())                                                                                                                                                                                                                                                                                                          | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | messages               | messages_admin_select_all                    | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | messages               | messages_insert_participants                 | INSERT | null                                                                                                                                                                                                                                                                                                                              | (EXISTS ( SELECT 1
   FROM conversations c
  WHERE ((c.id = messages.conversation_id) AND ((c.client_id = auth.uid()) OR (c.provider_id = auth.uid())))))                                                                                              |
| 3. DEFINIÇÃO DAS POLICIES | messages               | messages_select_participants                 | SELECT | (EXISTS ( SELECT 1
   FROM conversations c
  WHERE ((c.id = messages.conversation_id) AND ((c.client_id = auth.uid()) OR (c.provider_id = auth.uid())))))                                                                                                                                                                         | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | messages               | messages_update_participants                 | UPDATE | (EXISTS ( SELECT 1
   FROM (conversations c
     LEFT JOIN providers pr ON ((pr.id = c.provider_id)))
  WHERE ((c.id = messages.conversation_id) AND ((c.client_id = auth.uid()) OR (pr.user_id = auth.uid())))))                                                                                                                 | (EXISTS ( SELECT 1
   FROM (conversations c
     LEFT JOIN providers pr ON ((pr.id = c.provider_id)))
  WHERE ((c.id = messages.conversation_id) AND ((c.client_id = auth.uid()) OR (pr.user_id = auth.uid())))))                                      |
| 3. DEFINIÇÃO DAS POLICIES | notifications          | Users can update own notifications           | UPDATE | (user_id = auth.uid())                                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | notifications          | notifications_delete_owner                   | DELETE | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | notifications          | notifications_insert_owner                   | INSERT | null                                                                                                                                                                                                                                                                                                                              | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | notifications          | notifications_insert_server_only             | INSERT | null                                                                                                                                                                                                                                                                                                                              | ((((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text) OR ((((current_setting('request.jwt.claims'::text, true))::json -> 'app_metadata'::text) ->> 'role'::text) = 'admin'::text) OR (user_id = auth.uid())) |
| 3. DEFINIÇÃO DAS POLICIES | notifications          | notifications_select_by_user                 | SELECT | (user_id = auth.uid())                                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | notifications          | notifications_select_own                     | SELECT | (user_id = auth.uid())                                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | notifications          | notifications_select_owner                   | SELECT | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | notifications          | notifications_update_owner                   | UPDATE | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | partner_banners        | Public read active banners                   | SELECT | (is_active = true)                                                                                                                                                                                                                                                                                                                | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | partner_store_products | Only admin can delete partner store products | DELETE | (auth.uid() = '80ea25cf-88e7-4ed7-93e9-ea1ba30bce91'::uuid)                                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | partner_store_products | Only admin can insert partner store products | INSERT | null                                                                                                                                                                                                                                                                                                                              | (auth.uid() = '80ea25cf-88e7-4ed7-93e9-ea1ba30bce91'::uuid)                                                                                                                                                                                            |
| 3. DEFINIÇÃO DAS POLICIES | partner_store_products | Only admin can update partner store products | UPDATE | (auth.uid() = '80ea25cf-88e7-4ed7-93e9-ea1ba30bce91'::uuid)                                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | partner_store_products | Public can read partner store products       | SELECT | true                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | partner_stores         | Only admin can delete partner stores         | DELETE | (auth.uid() = '80ea25cf-88e7-4ed7-93e9-ea1ba30bce91'::uuid)                                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | partner_stores         | Only admin can insert partner stores         | INSERT | null                                                                                                                                                                                                                                                                                                                              | (auth.uid() = '80ea25cf-88e7-4ed7-93e9-ea1ba30bce91'::uuid)                                                                                                                                                                                            |
| 3. DEFINIÇÃO DAS POLICIES | partner_stores         | Only admin can update partner stores         | UPDATE | (auth.uid() = '80ea25cf-88e7-4ed7-93e9-ea1ba30bce91'::uuid)                                                                                                                                                                                                                                                                       | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | partner_stores         | Public can read partner stores               | SELECT | true                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | payments               | payments_admin_select_all                    | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | payments               | payments_admin_update_all                    | UPDATE | is_admin()                                                                                                                                                                                                                                                                                                                        | is_admin()                                                                                                                                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | payments               | payments_delete_admin_only                   | DELETE | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | payments               | payments_select_admin                        | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | payments               | payments_service_role_all                    | ALL    | true                                                                                                                                                                                                                                                                                                                              | true                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | payments               | payments_update_admin_only                   | UPDATE | is_admin()                                                                                                                                                                                                                                                                                                                        | is_admin()                                                                                                                                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | payments               | users can insert payments                    | INSERT | null                                                                                                                                                                                                                                                                                                                              | (auth.uid() IS NOT NULL)                                                                                                                                                                                                                               |
| 3. DEFINIÇÃO DAS POLICIES | profiles               | profiles_public_select                       | SELECT | true                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | provider_documents     | provider_documents_insert                    | INSERT | null                                                                                                                                                                                                                                                                                                                              | (is_admin() OR (EXISTS ( SELECT 1
   FROM providers p
  WHERE ((p.id = provider_documents.provider_id) AND (p.user_id = auth.uid())))))                                                                                                                |
| 3. DEFINIÇÃO DAS POLICIES | provider_documents     | provider_documents_select                    | SELECT | (is_admin() OR (EXISTS ( SELECT 1
   FROM providers p
  WHERE ((p.id = provider_documents.provider_id) AND (p.user_id = auth.uid())))))                                                                                                                                                                                           | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | provider_documents     | provider_documents_update                    | UPDATE | (is_admin() OR (EXISTS ( SELECT 1
   FROM providers p
  WHERE ((p.id = provider_documents.provider_id) AND (p.user_id = auth.uid())))))                                                                                                                                                                                           | (is_admin() OR (EXISTS ( SELECT 1
   FROM providers p
  WHERE ((p.id = provider_documents.provider_id) AND (p.user_id = auth.uid())))))                                                                                                                |
| 3. DEFINIÇÃO DAS POLICIES | provider_service_types | provider_service_types_all_own               | ALL    | (provider_id = auth.uid())                                                                                                                                                                                                                                                                                                        | (provider_id = auth.uid())                                                                                                                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | provider_wallets       | Provider can see own wallet                  | SELECT | (provider_id = auth.uid())                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | provider_wallets       | Provider wallet updated by backend only      | UPDATE | false                                                                                                                                                                                                                                                                                                                             | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | provider_wallets       | provider_wallets_select_own_or_admin         | SELECT | (is_admin() OR (provider_id = auth.uid()))                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | provider_wallets       | provider_wallets_update_admin_only           | UPDATE | is_admin()                                                                                                                                                                                                                                                                                                                        | is_admin()                                                                                                                                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | providers              | Providers can select own profile             | SELECT | (id = auth.uid())                                                                                                                                                                                                                                                                                                                 | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | providers              | Providers can update own profile             | UPDATE | (id = auth.uid())                                                                                                                                                                                                                                                                                                                 | (id = auth.uid())                                                                                                                                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_admin_select_all                   | SELECT | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_admin_update_all                   | UPDATE | is_admin()                                                                                                                                                                                                                                                                                                                        | is_admin()                                                                                                                                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_delete_admin                       | DELETE | is_admin()                                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_insert_own                         | INSERT | null                                                                                                                                                                                                                                                                                                                              | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_insert_owner                       | INSERT | null                                                                                                                                                                                                                                                                                                                              | (user_id = auth.uid())                                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_owner_insert                       | INSERT | null                                                                                                                                                                                                                                                                                                                              | (id = auth.uid())                                                                                                                                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_owner_select                       | SELECT | (id = auth.uid())                                                                                                                                                                                                                                                                                                                 | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_owner_update                       | UPDATE | (id = auth.uid())                                                                                                                                                                                                                                                                                                                 | (id = auth.uid())                                                                                                                                                                                                                                      |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_select_own                         | SELECT | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_select_own_by_user_id              | SELECT | (user_id = auth.uid())                                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_select_public                      | SELECT | true                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_update_own                         | UPDATE | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_update_own_by_user_id              | UPDATE | (user_id = auth.uid())                                                                                                                                                                                                                                                                                                            | (user_id = auth.uid())                                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | providers              | providers_update_owner_or_admin              | UPDATE | ((user_id = auth.uid()) OR (((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text) OR ((((current_setting('request.jwt.claims'::text, true))::json -> 'app_metadata'::text) ->> 'role'::text) = 'admin'::text))                                                                            | ((user_id = auth.uid()) OR (((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text))                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | reviews                | reviews_insert_owner                         | INSERT | null                                                                                                                                                                                                                                                                                                                              | (from_user = auth.uid())                                                                                                                                                                                                                               |
| 3. DEFINIÇÃO DAS POLICIES | reviews                | reviews_select_owner_or_admin                | SELECT | ((from_user = auth.uid()) OR (to_user = auth.uid()) OR (((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text) OR ((((current_setting('request.jwt.claims'::text, true))::json -> 'app_metadata'::text) ->> 'role'::text) = 'admin'::text))                                                | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | service_categories     | service_categories_select_all                | SELECT | true                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | service_types          | service_types_select_all                     | SELECT | true                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | user_devices           | user_devices - owner                         | ALL    | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                            | (auth.uid() = user_id)                                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | user_devices           | user_devices - owner can manage own rows     | ALL    | (auth.uid() = user_id)                                                                                                                                                                                                                                                                                                            | (auth.uid() = user_id)                                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | user_devices           | user_devices_delete                          | DELETE | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | user_devices           | user_devices_insert                          | INSERT | null                                                                                                                                                                                                                                                                                                                              | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | user_devices           | user_devices_select                          | SELECT | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | user_devices           | user_devices_update                          | UPDATE | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | user_onboarding        | onboarding_select_own                        | SELECT | (user_id = auth.uid())                                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | user_push_tokens       | user_push_tokens_delete                      | DELETE | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | user_push_tokens       | user_push_tokens_insert                      | INSERT | null                                                                                                                                                                                                                                                                                                                              | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | user_push_tokens       | user_push_tokens_select                      | SELECT | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | user_push_tokens       | user_push_tokens_update                      | UPDATE | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                                                                                            | ((user_id = auth.uid()) OR is_admin())                                                                                                                                                                                                                 |
| 3. DEFINIÇÃO DAS POLICIES | user_roles             | read own role                                | SELECT | (user_id = auth.uid())                                                                                                                                                                                                                                                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | waitlist_registrations | waitlist_anon_can_insert                     | INSERT | null                                                                                                                                                                                                                                                                                                                              | true                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | waitlist_registrations | waitlist_auth_can_select                     | SELECT | true                                                                                                                                                                                                                                                                                                                              | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | waitlist_registrations | waitlist_auth_can_update_used_by             | UPDATE | true                                                                                                                                                                                                                                                                                                                              | true                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | waitlist_registrations | waitlist_insert_from_anon                    | INSERT | null                                                                                                                                                                                                                                                                                                                              | true                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | waitlist_registrations | waitlist_no_select                           | SELECT | false                                                                                                                                                                                                                                                                                                                             | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | wallets                | wallets_select_owner                         | SELECT | ((user_id = auth.uid()) OR (((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text) OR ((((current_setting('request.jwt.claims'::text, true))::json -> 'app_metadata'::text) ->> 'role'::text) = 'admin'::text))                                                                            | null                                                                                                                                                                                                                                                   |
| 3. DEFINIÇÃO DAS POLICIES | wallets                | wallets_update_owner_or_admin                | UPDATE | ((user_id = auth.uid()) OR (((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text) OR ((((current_setting('request.jwt.claims'::text, true))::json -> 'app_metadata'::text) ->> 'role'::text) = 'admin'::text))                                                                            | ((user_id = auth.uid()) OR (((current_setting('request.jwt.claims'::text, true))::json ->> 'role'::text) = 'admin'::text) OR ((((current_setting('request.jwt.claims'::text, true))::json -> 'app_metadata'::text) ->> 'role'::text) = 'admin'::text)) |
| 3. DEFINIÇÃO DAS POLICIES | withdrawals            | Provider can insert own withdrawal           | INSERT | null                                                                                                                                                                                                                                                                                                                              | (provider_id = auth.uid())                                                                                                                                                                                                                             |
| 3. DEFINIÇÃO DAS POLICIES | withdrawals            | Provider can select own withdrawals          | SELECT | (provider_id = auth.uid())                                                                                                                                                                                                                                                                                                        | null                                                                                                                                                                                                                                                   |